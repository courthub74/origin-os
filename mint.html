<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Origin OS — Mint</title>

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/img/favicon/origin-logo.png">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <!-- JS -->
  <link rel="stylesheet" href="/css/dreamos.css">
  <link rel="stylesheet" href="/css/mint.css">
</head>

<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="dreamos-logo md">
          <!-- SVG here -->
            <svg width="120" height="138" viewBox="0 0 120 138" xmlns="http://www.w3.org/2000/svg">
            <!-- Hex container -->
            <polygon
              points="60,2 114,34 114,104 60,136 6,104 6,34"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            />

            <!-- Engine blades -->
            <g transform="translate(60 69)">
              <polygon points="0,-28 6,-12 0,-6 -6,-12" fill="currentColor"/>
              <polygon points="28,0 12,6 6,0 12,-6" fill="currentColor"/>
              <polygon points="0,28 -6,12 0,6 6,12" fill="currentColor"/>
              <polygon points="-28,0 -12,-6 -6,0 -12,6" fill="currentColor"/>
            </g>
          </svg>
        </div>
        <!-- <div class="orb"></div> -->
        <div class="brandText"><strong>Origin OS</strong><span>Create. Shape. Release.</span></div>

      </div>

      <nav class="nav" aria-label="Primary">
        <a href="dashboard.html"><span>Dashboard</span><small>⌘1</small></a>
        <a href="create.html"><span>Create</span><small>⌘2</small></a>
        <a href="collections.html"><span>Collections</span><small>⌘3</small></a>
        <a class="active" href="mint.html"><span>Mint</span><small>⌘4</small></a>
        <a href="drops.html">Drops <small>⌘5</small></a>
        <a href="socials.html">Socials <small>⌘6</small></a>
        <a href="website.html">Website <small>⌘7</small></a>
        <!-- <a href="#">Settings <small>⌘8</small></a> -->
      </nav>

      <!-- ACCOUNT / PROFILE (sidebar footer) -->
      <div class="sidebar-footer account-footer">
        <button class="account-btn" id="accountBtn" type="button" aria-haspopup="menu" aria-expanded="false">
          <div class="account-avatar">
            <img src="./img/blue_user.png" class="user_avatar" alt="User Avatar" />
            <div class="account-meta">
              <p class="account-name"></p>
              <p class="account-role"></p>
            </div>
          </div>
          <small class="account-chev" aria-hidden="true">⌄</small>
        </button>

        <!-- Account menu -->
        <div class="account-menu" id="accountMenu" role="menu" aria-label="Account menu">
          <button class="menu-item" role="menuitem" type="button" data-go="profile.html">Profile Details</button>
          <button class="menu-item" role="menuitem" type="button" data-go="profile_settings.html">Profile Settings</button>
          <button class="menu-item" role="menuitem" type="button" data-go="display_settings.html">Display Settings</button>
          <div class="menu-sep" aria-hidden="true"></div>
          <button class="menu-item danger" role="menuitem" type="button" data-go="index.html">Logout</button>
        </div>
      </div>
    </aside>

    <!-- Scrim for mobile -->
    <div class="scrim" id="scrim" onclick="toggleSidebar(false)"></div>

    <!-- Main -->
    <main class="main">
      <!-- Topbar -->
      <div class="topbar">
        <div class="topLeft">
          <button class="burger" id="burger" aria-label="Open menu" onclick="toggleSidebar()">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M5 7h14M5 12h14M5 17h14" stroke-width="1.8" stroke-linecap="round"/>
            </svg>
          </button>

          <div class="crumbs">
            <div class="kicker">Distribution</div>
            <div class="title">Connect · Mint · Publish</div>
          </div>
        </div>

        <div class="topRight">
          <!-- <div class="pill">Build: v0.1</div> -->
          <button class="btn primary" type="button" onclick="alert('Hook: open mint queue');">
            <span class="dot"></span>Queue
          </button>
        </div>
      </div>

      <div class="content">

        <!-- CONNECTORS -->
        <section class="panel">
          <div class="head">
            <h2>Marketplaces</h2>
            <div class="pill">Connect once, ship everywhere</div>
          </div>

          <div class="body">
            <div class="connectors">

              <!-- XRP Cafe -->
              <div class="connector" data-market="xrpcafe">
                <div class="cTop">
                  <div class="cBrand">
                    <div class="cIcon" aria-hidden="true">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M7 7h10M7 12h10M7 17h10" stroke-width="1.8" stroke-linecap="round"/>
                      </svg>
                    </div>
                    <div class="cName">
                      <strong>XRP Café</strong>
                      <span>XRPL mint + listings</span>
                    </div>
                  </div>
                  <div class="statusPill on" id="st-xrpcafe">connected</div>
                </div>
                <div class="cBody">Primary rail for Dream Agent drops. Supports collections and editions.</div>
                <div class="cActions">
                  <button class="btn" type="button" onclick="disconnect('xrpcafe')">Disconnect</button>
                  <button class="btn primary" type="button" onclick="manage('xrpcafe')"><span class="dot"></span>Manage</button>
                </div>
              </div>

              <!-- OpenSea -->
              <div class="connector" data-market="opensea">
                <div class="cTop">
                  <div class="cBrand">
                    <div class="cIcon" aria-hidden="true">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M12 3l7 7-7 11-7-11 7-7Z" stroke-width="1.8" stroke-linejoin="round"/>
                      </svg>
                    </div>
                    <div class="cName">
                      <strong>OpenSea</strong>
                      <span>Ethereum / Polygon</span>
                    </div>
                  </div>
                  <div class="statusPill" id="st-opensea">not connected</div>
                </div>
                <div class="cBody">Connect a wallet to publish on EVM chains with optional royalties.</div>
                <div class="cActions">
                  <button class="btn primary" type="button" onclick="connect('opensea')"><span class="dot"></span>Connect</button>
                  <button class="btn" type="button" onclick="alert('Docs link placeholder');">Docs</button>
                </div>
              </div>

              <!-- Manifold -->
              <div class="connector" data-market="manifold">
                <div class="cTop">
                  <div class="cBrand">
                    <div class="cIcon" aria-hidden="true">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M6 18V6l6 6 6-6v12" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </div>
                    <div class="cName">
                      <strong>Manifold</strong>
                      <span>Contract-based drops</span>
                    </div>
                  </div>
                  <div class="statusPill soon" id="st-manifold">coming soon</div>
                </div>
                <div class="cBody">For custom contracts, claim pages, and drop mechanics. (Stub UI)</div>
                <div class="cActions">
                  <button class="btn" type="button" onclick="alert('Coming soon');">Notify</button>
                  <button class="btn" type="button" onclick="alert('Coming soon');">Learn</button>
                </div>
              </div>

              <!-- SuperRare -->
              <div class="connector" data-market="superrare">
                <div class="cTop">
                  <div class="cBrand">
                    <div class="cIcon" aria-hidden="true">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M12 21s-7-4.5-7-11a4 4 0 0 1 7-2 4 4 0 0 1 7 2c0 6.5-7 11-7 11Z" stroke-width="1.8" stroke-linejoin="round"/>
                      </svg>
                    </div>
                    <div class="cName">
                      <strong>SuperRare</strong>
                      <span>1/1 curation</span>
                    </div>
                  </div>
                  <div class="statusPill soon" id="st-superrare">coming soon</div>
                </div>
                <div class="cBody">Curation-first pipeline. Keep drafts here until approved.</div>
                <div class="cActions">
                  <button class="btn" type="button" onclick="alert('Coming soon');">Notify</button>
                  <button class="btn" type="button" onclick="alert('Coming soon');">Learn</button>
                </div>
              </div>

            </div>
          </div>
        </section>

        <!-- MINT + QUEUE -->
        <div class="dist-grid">

          <!-- LEFT: Mint / Publish form -->
          <section class="panel">
            <div class="head">
              <h2>Mint / Publish</h2>
              <div class="pill">Draft → chain → listing</div>
            </div>

            <div class="body" style="display:flex; flex-direction:column; gap:12px;">
              <div class="field">
            <div class="label">Image <span class="hint">Source asset</span></div>

            <!-- Later: this becomes "Open Library" -->
            <div class="two">
                <button class="btn" type="button" id="chooseImageBtn" onclick="chooseImage()">
                Choose image
                </button>

                <div class="pill" id="imageState">none selected</div>
            </div>

            <!-- Optional tiny preview row -->
            <div id="imagePreviewRow" style="display:none; gap:10px; align-items:center;">
                <img id="imageThumb" alt="" style="width:46px;height:46px;border-radius:14px;object-fit:cover;border:1px solid rgba(255,255,255,0.10);" />
                <div style="min-width:0;">
                <div style="font-weight:950;color:var(--text-2);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;" id="imageName">—</div>
                <div style="font-family:var(--mono);font-size:11px;color:rgba(255,255,255,0.45);" id="imageMeta">—</div>
                </div>
            </div>
            </div>

            <div class="field">
            <div class="label">
                Title
                <span class="hint">
                <button type="button" class="linkLike" onclick="openTitleSuggestions()">Need title ideas?</button>
                </span>
            </div>
            <input id="title" type="text" placeholder="Enter title..." />
            </div>


              <div class="two">
                <div class="field">
                  <div class="label">Collection <span class="hint">Optional</span></div>
                  <select id="collection">
                    <option value="">None</option>
                    <option>War & Feast</option>
                    <option>Signals & Ascensions</option>
                    <option>Industrial Scriptures</option>
                  </select>
                </div>
                <div class="field">
                  <div class="label">Marketplace <span class="hint">Connected only</span></div>
                  <select id="market">
                    <option value="xrpcafe">XRP Café (XRPL)</option>
                    <option value="opensea">OpenSea (EVM)</option>
                  </select>
                </div>
              </div>

              <div class="two">
                <div class="field">
                  <div class="label">Edition size <span class="hint">1 = one-of-one</span></div>
                  <input id="edition" type="number" min="1" value="1" />
                </div>
                <div class="field">
                  <div class="label">Royalties % <span class="hint">EVM dependent</span></div>
                  <input id="royalties" type="number" min="0" max="25" step="0.5" value="10" />
                </div>
              </div>

              <div class="two">
                <div class="field">
                  <div class="label">Price <span class="hint">Listing</span></div>
                  <input id="price" type="text" placeholder="e.g. 125 XRP or 0.08 ETH" />
                </div>
                <div class="field">
                  <div class="label">Sale type <span class="hint">Default</span></div>
                  <select id="saleType">
                    <option value="fixed" selected>Fixed</option>
                    <option value="auction">Auction</option>
                    <option value="open">Open edition window</option>
                  </select>
                </div>
              </div>

              <div class="field">
                <div class="label">Description <span class="hint">Public listing</span></div>
                <textarea
                    id="description"
                    placeholder="Public description shown on the marketplace listing..."
                ></textarea>
                </div>


              <div class="mintActions">
                <button class="btn primary" type="button" onclick="queueMint()">
                  <span class="dot"></span>Add to Queue
                </button>
                <button class="btn" type="button" onclick="dryRun()">Dry run</button>
              </div>
            </div>
          </section>

          <!-- RIGHT: Queue / activity -->
          <section class="panel">
            <div class="head">
              <h2>Queue</h2>
              <div class="pill">Live ops</div>
            </div>

            <div class="body">
              <div class="queue" id="queue">
                <div class="qItem" data-title="The Soap Wars"
                        data-meta="xrpcafe · edition 1 · fixed · 125 XRP"
                        data-status="ready"
                        data-market="xrpcafe"
                        data-chain="XRPL"
                        data-edition="1"
                        data-royalties="10%"
                        data-price="125 XRP"
                        data-notes="Collector text locked. Cover verified. Ready to mint.">
                  <div class="qLeft">
                    <div class="qTitle">The Soap Wars</div>
                    <div class="qMeta">xrpcafe · edition 1 · fixed · 125 XRP</div>
                  </div>
                  <div class="qRight">
                    <div class="statusPill on">ready</div>
                    <button class="iconBtn" type="button" onclick="openMintModal(this)" aria-label="Open">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M9 18l6-6-6-6" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </button>
                  </div>
                </div>

                <div class="qItem"
                                data-title="Dream Agent Distilleries"
                                data-meta="opensea · edition 1 · fixed · 0.08 ETH"
                                data-status="draft"
                                data-market="opensea"
                                data-chain="Ethereum"
                                data-edition="1"
                                data-royalties="10%"
                                data-price="0.08 ETH"
                                data-notes="Initial draft. Needs review before mint.">
                  <div class="qLeft">
                    <div class="qTitle">Dream Agent Distilleries</div>
                    <div class="qMeta">opensea · edition 1 · fixed · 0.08 ETH</div>
                  </div>
                  <div class="qRight">
                    <div class="statusPill">draft</div>
                    <button class="iconBtn" type="button" onclick="openMintModal(this)" aria-label="Open">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M9 18l6-6-6-6" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </button>
                  </div>
                </div>

                <div class="qItem" data-title="Temple of Openings"
                                data-meta="xrpcafe · edition 1 · fixed · 150 XRP"
                                data-status="pending"
                                data-market="xrpcafe"
                                data-chain="XRPL"
                                data-edition="1"
                                data-royalties="10%"
                                data-price="125 XRP"
                                data-notes="Collector text locked. Cover verified. Ready to mint.">
                  <div class="qLeft">
                    <div class="qTitle">Temple of Openings</div>
                    <div class="qMeta">xrpcafe · edition 10 · open edition</div>
                  </div>
                  <div class="qRight">
                    <div class="statusPill soon">pending</div>
                    <button class="iconBtn" type="button" onclick="openMintModal(this)" aria-label="Open">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M9 18l6-6-6-6" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </button>
                  </div>
                </div>

              </div>
            </div>
          </section>

        </div>
      </div>
    </main>
  </div>

    <!-- Mint Details Modal / Drawer -->
    <div class="modal" id="mintModal" aria-hidden="true">
    <div class="modalScrim" onclick="closeMintModal()"></div>

    <div class="modalCard" role="dialog" aria-modal="true" aria-label="Mint details">
        <div class="modalHead">
        <div class="modalTitleWrap">
            <div class="modalKicker">Mint details</div>
            <div class="modalTitle" id="mTitle">—</div>
            <div class="modalMeta" id="mMeta">—</div>
        </div>

        <button class="iconBtn" type="button" onclick="closeMintModal()" aria-label="Close">
            <svg viewBox="0 0 24 24" fill="none">
            <path d="M6 6l12 12M18 6L6 18" stroke-width="1.8" stroke-linecap="round"/>
            </svg>
        </button>
        </div>

        <div class="modalBody">
        <div class="modalGrid">
            <!-- <div class="mBox"><div class="mK">Status</div><div class="mV" id="mStatus">—</div></div> -->
            <div class="mBox" id="mStatusBox">
                <div class="mK">Status</div>
                <div class="mV statusText" id="mStatus">—</div>
            </div>

            <div class="mBox"><div class="mK">Marketplace</div><div class="mV" id="mMarket">—</div></div>
            <div class="mBox"><div class="mK">Chain</div><div class="mV" id="mChain">—</div></div>
            <div class="mBox"><div class="mK">Edition</div><div class="mV" id="mEdition">—</div></div>
            <div class="mBox"><div class="mK">Royalties</div><div class="mV" id="mRoyalties">—</div></div>
            <div class="mBox"><div class="mK">Price</div><div class="mV" id="mPrice">—</div></div>
        </div>

        <div class="mNotes">
            <div class="mK">Description</div>
            <div class="mNoteText" id="mDescription">—</div>
        </div>


        <div class="modalActions">
            <button class="btn primary" type="button" onclick="alert('Hook: run mint');">
            <span class="dot"></span>Run mint
            </button>
            <button class="btn" type="button" onclick="alert('Hook: edit queued item');">Edit</button>
            <button class="btn" type="button" onclick="alert('Hook: remove from queue');">Remove</button>
        </div>
        </div>
    </div>
    </div>

  <!-- JS -->
  <script src="/js/mint.js"></script>
  <script src="/js/profile-menu.js"></script>
   <script src="/js/dreamos-shell.js"></script>
   <script src="/js/auth-guard.js"></script>
   
</html>
